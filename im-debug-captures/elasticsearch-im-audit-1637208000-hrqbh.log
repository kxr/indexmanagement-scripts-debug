========================
Index management delete process starting for audit

deleting indices: audit-000006
NotFoundError(404, 'index_not_found_exception', 'no such index')
========================
Index management rollover process starting for audit

Current write index for audit-write: audit-000026
/tmp/scripts/indexManagementClient.py:103: ElasticsearchDeprecationWarning: [types removal] The parameter include_type_name should be explicitly specified in rollover requests to prepare for 7.0. In 7.0 include_type_name will default to 'false', which means requests must omit the type name in mapping definitions.
  response = es_client.indices.rollover(alias=alias, body=decoded)
Checking results from _rollover call
Next write index for audit-write: audit-000026
Checking if audit-000026 exists
/tmp/scripts/indexManagementClient.py:119: ElasticsearchDeprecationWarning: [types removal] The parameter include_type_name should be explicitly specified in get indices requests to prepare for 7.0. In 7.0 include_type_name will default to 'false', which means responses will omit the type name in mapping definitions.
  ret = es_client.indices.exists(index=index)
Checking if audit-000026 is the write index for audit-write
Done!
#### cat /tmp/imdebug.log
Thu Nov 18 04:00:17 UTC 2021: [sh:delete-then-rollover] ENTRYPOINT
Thu Nov 18 04:00:17 UTC 2021: [sh:delete-then-rollover] POLICY_MAPPING=audit
Thu Nov 18 04:00:17 UTC 2021: [sh:delete-then-rollover] MIN_AGE=604800000
Thu Nov 18 04:00:17 UTC 2021: [sh:delete-then-rollover] PAYLOAD=eyJjb25kaXRpb25zIjp7Im1heF9hZ2UiOiI4aCIsIm1heF9kb2NzIjoxMjI4ODAwMDAsIm1heF9zaXplIjoiMTIwZ2IifX0=
Thu Nov 18 04:00:17 UTC 2021: [sh:delete-then-rollover] ES_SERVICE=https://elasticsearch:9200
Thu Nov 18 04:00:17 UTC 2021: [sh:delete-then-rollover] Calling /tmp/scripts/delete
Thu Nov 18 04:00:17 UTC 2021: [sh:delete] ENTRYPOINT
Thu Nov 18 04:00:17 UTC 2021: [sh:delete] Calling writeAliases = getWriteAliases audit
Thu Nov 18 04:00:17 UTC 2021: [sh:indexManagement:getWriteAliases] ENTRYPOINT
Thu Nov 18 04:00:17 UTC 2021: [sh:indexManagement:getWriteAliases] policy=$1: audit
Thu Nov 18 04:00:17 UTC 2021: [sh:indexManagement:getWriteAliases] Calling catWriteAliases "audit" -> aliasResponse
2021-11-18 04:00:17,878: [catWriteAliases] FUNC_INIT: {'policy': 'audit'}
2021-11-18 04:00:17,878: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:17,884: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:17,958: [_make_request] https://elasticsearch:9200 "GET /_cat/aliases/audit*-write?h=alias HTTP/1.1" 200 252
2021-11-18 04:00:17,960: [log_request_success] GET https://elasticsearch:9200/_cat/aliases/audit*-write?h=alias [status:200 request:0.076s]
2021-11-18 04:00:17,960: [log_request_success] > None
2021-11-18 04:00:17,961: [log_request_success] < audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write

2021-11-18 04:00:17,961: [catWriteAliases] response=audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write

2021-11-18 04:00:17,962: [catWriteAliases] response_list=['audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', '']
2021-11-18 04:00:17,962: [catWriteAliases] RETURN:  audit-write
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteAliases] aliasResponse: ' audit-write'
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteAliases] Echoing aliasResponse ( audit-write)
Thu Nov 18 04:00:18 UTC 2021: [sh:delete] writeAliases: 'audit-write'
Thu Nov 18 04:00:18 UTC 2021: [sh:delete] for aliasBase in $writeAliases
Thu Nov 18 04:00:18 UTC 2021: [sh:delete] aliasBase: audit-write
Thu Nov 18 04:00:18 UTC 2021: [sh:delete] alias: audit
Thu Nov 18 04:00:18 UTC 2021: [sh:delete] Calling 'delete "audit"'
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:delete] ENTRYPOINT
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:delete] policy=$1: audit
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:delete] Calling getWriteIndex "audit-write" -> writeIndex
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] ENTRYPOINT
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] policy=$1: audit-write
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] Calling 'getAlias "audit-write"'
2021-11-18 04:00:18,542: [getAlias] FUNC_INIT: {'alias': 'audit-write'}
2021-11-18 04:00:18,542: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:18,547: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:18,600: [_make_request] https://elasticsearch:9200 "GET /_alias/audit-write HTTP/1.1" 200 1428
2021-11-18 04:00:18,602: [log_request_success] GET https://elasticsearch:9200/_alias/audit-write [status:200 request:0.055s]
2021-11-18 04:00:18,602: [log_request_success] > None
2021-11-18 04:00:18,602: [log_request_success] < {"audit-000018":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000013":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000023":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000016":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000024":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000009":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000011":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000026":{"aliases":{"audit-write":{"is_write_index":true}}},"audit-000006":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000019":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000012":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000014":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000010":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000017":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000007":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000020":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000021":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000025":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000022":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000015":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000008":{"aliases":{"audit-write":{"is_write_index":false}}}}
2021-11-18 04:00:18,603: [getAlias] RETURN: {"audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000006": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}}
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] aliasResponse: {"audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000006": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}}
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] jsonResponse: [{"audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000006": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}}]
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] Calling python /tmp/scripts/getWriteIndex.py "audit-write"
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] python /tmp/scripts/getWriteIndex.py "audit-write" succeeded. writeIndices: 'audit-000026'
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] Calling ensureOneWriteIndex "audit-write" "audit-000026" -> writeIndex
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] ENTRYPOINT
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] policy=$1: audit-write
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] writeIndices=$2: audit-000026
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] for index in writeIndices
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] index: 'audit-000026', writeIndex: ''
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] Echoing writeIndex (audit-000026)
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] writeIndex: audit-000026
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:getWriteIndex] Echoing writeIndex (audit-000026)
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:delete] getWriteIndex "audit-write" succeeded. writeIndex: 'audit-000026'
Thu Nov 18 04:00:18 UTC 2021: [sh:indexManagement:delete] Calling getIndicesAgeForAlias "audit-write" -> indices
2021-11-18 04:00:19,337: [getIndicesAgeForAlias] FUNC_INIT: {'alias': 'audit-write'}
2021-11-18 04:00:19,338: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:19,343: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:19,397: [_make_request] https://elasticsearch:9200 "GET /audit-write/_settings/index.creation_date HTTP/1.1" 200 1513
2021-11-18 04:00:19,399: [log_request_success] GET https://elasticsearch:9200/audit-write/_settings/index.creation_date [status:200 request:0.056s]
2021-11-18 04:00:19,399: [log_request_success] > None
2021-11-18 04:00:19,399: [log_request_success] < {"audit-000018":{"settings":{"index":{"creation_date":"1636953317030"}}},"audit-000006":{"settings":{"index":{"creation_date":"1636603213281"}}},"audit-000021":{"settings":{"index":{"creation_date":"1637041508562"}}},"audit-000007":{"settings":{"index":{"creation_date":"1636632016087"}}},"audit-000017":{"settings":{"index":{"creation_date":"1636924511708"}}},"audit-000026":{"settings":{"index":{"creation_date":"1637187316542"}}},"audit-000025":{"settings":{"index":{"creation_date":"1637158515689"}}},"audit-000024":{"settings":{"index":{"creation_date":"1637129714233"}}},"audit-000011":{"settings":{"index":{"creation_date":"1636748113920"}}},"audit-000012":{"settings":{"index":{"creation_date":"1636776918322"}}},"audit-000020":{"settings":{"index":{"creation_date":"1637011814247"}}},"audit-000023":{"settings":{"index":{"creation_date":"1637100014310"}}},"audit-000010":{"settings":{"index":{"creation_date":"1636719313337"}}},"audit-000022":{"settings":{"index":{"creation_date":"1637070309422"}}},"audit-000008":{"settings":{"index":{"creation_date":"1636661710189"}}},"audit-000014":{"settings":{"index":{"creation_date":"1636835411794"}}},"audit-000019":{"settings":{"index":{"creation_date":"1636983011676"}}},"audit-000013":{"settings":{"index":{"creation_date":"1636806609284"}}},"audit-000016":{"settings":{"index":{"creation_date":"1636894816891"}}},"audit-000015":{"settings":{"index":{"creation_date":"1636865114915"}}},"audit-000009":{"settings":{"index":{"creation_date":"1636690513112"}}}}
2021-11-18 04:00:19,400: [getIndicesAgeForAlias] RETURN: {"audit-000018": {"settings": {"index": {"creation_date": "1636953317030"}}}, "audit-000006": {"settings": {"index": {"creation_date": "1636603213281"}}}, "audit-000021": {"settings": {"index": {"creation_date": "1637041508562"}}}, "audit-000007": {"settings": {"index": {"creation_date": "1636632016087"}}}, "audit-000017": {"settings": {"index": {"creation_date": "1636924511708"}}}, "audit-000026": {"settings": {"index": {"creation_date": "1637187316542"}}}, "audit-000025": {"settings": {"index": {"creation_date": "1637158515689"}}}, "audit-000024": {"settings": {"index": {"creation_date": "1637129714233"}}}, "audit-000011": {"settings": {"index": {"creation_date": "1636748113920"}}}, "audit-000012": {"settings": {"index": {"creation_date": "1636776918322"}}}, "audit-000020": {"settings": {"index": {"creation_date": "1637011814247"}}}, "audit-000023": {"settings": {"index": {"creation_date": "1637100014310"}}}, "audit-000010": {"settings": {"index": {"creation_date": "1636719313337"}}}, "audit-000022": {"settings": {"index": {"creation_date": "1637070309422"}}}, "audit-000008": {"settings": {"index": {"creation_date": "1636661710189"}}}, "audit-000014": {"settings": {"index": {"creation_date": "1636835411794"}}}, "audit-000019": {"settings": {"index": {"creation_date": "1636983011676"}}}, "audit-000013": {"settings": {"index": {"creation_date": "1636806609284"}}}, "audit-000016": {"settings": {"index": {"creation_date": "1636894816891"}}}, "audit-000015": {"settings": {"index": {"creation_date": "1636865114915"}}}, "audit-000009": {"settings": {"index": {"creation_date": "1636690513112"}}}}
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] indices: '{"audit-000018": {"settings": {"index": {"creation_date": "1636953317030"}}}, "audit-000006": {"settings": {"index": {"creation_date": "1636603213281"}}}, "audit-000021": {"settings": {"index": {"creation_date": "1637041508562"}}}, "audit-000007": {"settings": {"index": {"creation_date": "1636632016087"}}}, "audit-000017": {"settings": {"index": {"creation_date": "1636924511708"}}}, "audit-000026": {"settings": {"index": {"creation_date": "1637187316542"}}}, "audit-000025": {"settings": {"index": {"creation_date": "1637158515689"}}}, "audit-000024": {"settings": {"index": {"creation_date": "1637129714233"}}}, "audit-000011": {"settings": {"index": {"creation_date": "1636748113920"}}}, "audit-000012": {"settings": {"index": {"creation_date": "1636776918322"}}}, "audit-000020": {"settings": {"index": {"creation_date": "1637011814247"}}}, "audit-000023": {"settings": {"index": {"creation_date": "1637100014310"}}}, "audit-000010": {"settings": {"index": {"creation_date": "1636719313337"}}}, "audit-000022": {"settings": {"index": {"creation_date": "1637070309422"}}}, "audit-000008": {"settings": {"index": {"creation_date": "1636661710189"}}}, "audit-000014": {"settings": {"index": {"creation_date": "1636835411794"}}}, "audit-000019": {"settings": {"index": {"creation_date": "1636983011676"}}}, "audit-000013": {"settings": {"index": {"creation_date": "1636806609284"}}}, "audit-000016": {"settings": {"index": {"creation_date": "1636894816891"}}}, "audit-000015": {"settings": {"index": {"creation_date": "1636865114915"}}}, "audit-000009": {"settings": {"index": {"creation_date": "1636690513112"}}}}'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] jsonResponse: '[{"audit-000018": {"settings": {"index": {"creation_date": "1636953317030"}}}, "audit-000006": {"settings": {"index": {"creation_date": "1636603213281"}}}, "audit-000021": {"settings": {"index": {"creation_date": "1637041508562"}}}, "audit-000007": {"settings": {"index": {"creation_date": "1636632016087"}}}, "audit-000017": {"settings": {"index": {"creation_date": "1636924511708"}}}, "audit-000026": {"settings": {"index": {"creation_date": "1637187316542"}}}, "audit-000025": {"settings": {"index": {"creation_date": "1637158515689"}}}, "audit-000024": {"settings": {"index": {"creation_date": "1637129714233"}}}, "audit-000011": {"settings": {"index": {"creation_date": "1636748113920"}}}, "audit-000012": {"settings": {"index": {"creation_date": "1636776918322"}}}, "audit-000020": {"settings": {"index": {"creation_date": "1637011814247"}}}, "audit-000023": {"settings": {"index": {"creation_date": "1637100014310"}}}, "audit-000010": {"settings": {"index": {"creation_date": "1636719313337"}}}, "audit-000022": {"settings": {"index": {"creation_date": "1637070309422"}}}, "audit-000008": {"settings": {"index": {"creation_date": "1636661710189"}}}, "audit-000014": {"settings": {"index": {"creation_date": "1636835411794"}}}, "audit-000019": {"settings": {"index": {"creation_date": "1636983011676"}}}, "audit-000013": {"settings": {"index": {"creation_date": "1636806609284"}}}, "audit-000016": {"settings": {"index": {"creation_date": "1636894816891"}}}, "audit-000015": {"settings": {"index": {"creation_date": "1636865114915"}}}, "audit-000009": {"settings": {"index": {"creation_date": "1636690513112"}}}}]'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] nowInMillis: '1637208019479'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] minAgeFromEpoc: '1636603219479'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] Calling python /tmp/scripts/getNext25Indices.py "1636603219479" "audit-000026" "[{"audit-000018": {"settings": {"index": {"creation_date": "1636953317030"}}}, "audit-000006": {"settings": {"index": {"creation_date": "1636603213281"}}}, "audit-000021": {"settings": {"index": {"creation_date": "1637041508562"}}}, "audit-000007": {"settings": {"index": {"creation_date": "1636632016087"}}}, "audit-000017": {"settings": {"index": {"creation_date": "1636924511708"}}}, "audit-000026": {"settings": {"index": {"creation_date": "1637187316542"}}}, "audit-000025": {"settings": {"index": {"creation_date": "1637158515689"}}}, "audit-000024": {"settings": {"index": {"creation_date": "1637129714233"}}}, "audit-000011": {"settings": {"index": {"creation_date": "1636748113920"}}}, "audit-000012": {"settings": {"index": {"creation_date": "1636776918322"}}}, "audit-000020": {"settings": {"index": {"creation_date": "1637011814247"}}}, "audit-000023": {"settings": {"index": {"creation_date": "1637100014310"}}}, "audit-000010": {"settings": {"index": {"creation_date": "1636719313337"}}}, "audit-000022": {"settings": {"index": {"creation_date": "1637070309422"}}}, "audit-000008": {"settings": {"index": {"creation_date": "1636661710189"}}}, "audit-000014": {"settings": {"index": {"creation_date": "1636835411794"}}}, "audit-000019": {"settings": {"index": {"creation_date": "1636983011676"}}}, "audit-000013": {"settings": {"index": {"creation_date": "1636806609284"}}}, "audit-000016": {"settings": {"index": {"creation_date": "1636894816891"}}}, "audit-000015": {"settings": {"index": {"creation_date": "1636865114915"}}}, "audit-000009": {"settings": {"index": {"creation_date": "1636690513112"}}}}]" 2>> /tmp/delete-zFGfy9 -> indices
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] Calling python /tmp/scripts/getNext25Indices.py "1636603219479" "audit-000026" "[{"audit-000018": {"settings": {"index": {"creation_date": "1636953317030"}}}, "audit-000006": {"settings": {"index": {"creation_date": "1636603213281"}}}, "audit-000021": {"settings": {"index": {"creation_date": "1637041508562"}}}, "audit-000007": {"settings": {"index": {"creation_date": "1636632016087"}}}, "audit-000017": {"settings": {"index": {"creation_date": "1636924511708"}}}, "audit-000026": {"settings": {"index": {"creation_date": "1637187316542"}}}, "audit-000025": {"settings": {"index": {"creation_date": "1637158515689"}}}, "audit-000024": {"settings": {"index": {"creation_date": "1637129714233"}}}, "audit-000011": {"settings": {"index": {"creation_date": "1636748113920"}}}, "audit-000012": {"settings": {"index": {"creation_date": "1636776918322"}}}, "audit-000020": {"settings": {"index": {"creation_date": "1637011814247"}}}, "audit-000023": {"settings": {"index": {"creation_date": "1637100014310"}}}, "audit-000010": {"settings": {"index": {"creation_date": "1636719313337"}}}, "audit-000022": {"settings": {"index": {"creation_date": "1637070309422"}}}, "audit-000008": {"settings": {"index": {"creation_date": "1636661710189"}}}, "audit-000014": {"settings": {"index": {"creation_date": "1636835411794"}}}, "audit-000019": {"settings": {"index": {"creation_date": "1636983011676"}}}, "audit-000013": {"settings": {"index": {"creation_date": "1636806609284"}}}, "audit-000016": {"settings": {"index": {"creation_date": "1636894816891"}}}, "audit-000015": {"settings": {"index": {"creation_date": "1636865114915"}}}, "audit-000009": {"settings": {"index": {"creation_date": "1636690513112"}}}}]" succeeded. indices: 'audit-000006'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] Cating /tmp/delete-zFGfy9:
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] deleting indices: 'audit-000006'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] for sets in indices
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] sets: 'audit-000006'
Thu Nov 18 04:00:19 UTC 2021: [sh:indexManagement:delete] Calling deleteIndices "audit-000006" -> response
2021-11-18 04:00:20,080: [deleteIndices] FUNC_INIT: {'index': 'audit-000006'}
2021-11-18 04:00:20,080: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:20,084: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:24,497: [_make_request] https://elasticsearch:9200 "DELETE /audit-000006 HTTP/1.1" 404 283
2021-11-18 04:00:24,499: [log_request_fail] DELETE https://elasticsearch:9200/audit-000006 [status:404 request:4.414s]
2021-11-18 04:00:24,499: [log_request_fail] > None
2021-11-18 04:00:24,499: [log_request_fail] < {"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index","index_uuid":"qt2-zFNuQ1msM9awqnnVpg","index":"audit-000006"}],"type":"index_not_found_exception","reason":"no such index","index_uuid":"qt2-zFNuQ1msM9awqnnVpg","index":"audit-000006"},"status":404}
2021-11-18 04:00:24,500: [deleteIndices] EXCEPTION: NotFoundError(404, 'index_not_found_exception', 'no such index')
Thu Nov 18 04:00:24 UTC 2021: [sh:indexManagement:delete] response: 'False'
Thu Nov 18 04:00:24 UTC 2021: [sh:indexManagement:delete] response == False, Returning 1
Thu Nov 18 04:00:24 UTC 2021: [sh:delete] 'delete "audit"' failed! exiting with rc 1
Thu Nov 18 04:00:24 UTC 2021: [sh:delete-then-rollover] ReturnCode of /tmp/scripts/delete is 1
Thu Nov 18 04:00:24 UTC 2021: [sh:delete-then-rollover] Calling /tmp/scripts/rollover
Thu Nov 18 04:00:24 UTC 2021: [sh:rollover] ENTRYPOINT
Thu Nov 18 04:00:24 UTC 2021: [sh:rollover] decoded: {"conditions":{"max_age":"8h","max_docs":122880000,"max_size":"120gb"}}
Thu Nov 18 04:00:24 UTC 2021: [sh:rollover] Calling 'getWriteAliases "audit"'
Thu Nov 18 04:00:24 UTC 2021: [sh:indexManagement:getWriteAliases] ENTRYPOINT
Thu Nov 18 04:00:24 UTC 2021: [sh:indexManagement:getWriteAliases] policy=$1: audit
Thu Nov 18 04:00:24 UTC 2021: [sh:indexManagement:getWriteAliases] Calling catWriteAliases "audit" -> aliasResponse
2021-11-18 04:00:25,047: [catWriteAliases] FUNC_INIT: {'policy': 'audit'}
2021-11-18 04:00:25,047: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:25,053: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:25,114: [_make_request] https://elasticsearch:9200 "GET /_cat/aliases/audit*-write?h=alias HTTP/1.1" 200 240
2021-11-18 04:00:25,116: [log_request_success] GET https://elasticsearch:9200/_cat/aliases/audit*-write?h=alias [status:200 request:0.064s]
2021-11-18 04:00:25,116: [log_request_success] > None
2021-11-18 04:00:25,117: [log_request_success] < audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write

2021-11-18 04:00:25,118: [catWriteAliases] response=audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write
audit-write

2021-11-18 04:00:25,118: [catWriteAliases] response_list=['audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', 'audit-write', '']
2021-11-18 04:00:25,118: [catWriteAliases] RETURN:  audit-write
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteAliases] aliasResponse: ' audit-write'
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteAliases] Echoing aliasResponse ( audit-write)
Thu Nov 18 04:00:25 UTC 2021: [sh:rollover] writeAliases: audit-write
Thu Nov 18 04:00:25 UTC 2021: [sh:rollover] for aliasBase in $writeAliases
Thu Nov 18 04:00:25 UTC 2021: [sh:rollover] aliasBase: audit-write
Thu Nov 18 04:00:25 UTC 2021: [sh:rollover] alias: audit
Thu Nov 18 04:00:25 UTC 2021: [sh:rollover] Calling 'rollover "audit"'
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:rollover] ENTRYPOINT
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:rollover] policy=$1: audit
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:rollover] decoded=$2: {"conditions":{"max_age":"8h","max_docs":122880000,"max_size":"120gb"}}
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:rollover] Calling getWriteIndex "audit-write" -> writeIndex
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] ENTRYPOINT
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] policy=$1: audit-write
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] Calling 'getAlias "audit-write"'
2021-11-18 04:00:25,671: [getAlias] FUNC_INIT: {'alias': 'audit-write'}
2021-11-18 04:00:25,672: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:25,676: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:25,783: [_make_request] https://elasticsearch:9200 "GET /_alias/audit-write HTTP/1.1" 200 1360
2021-11-18 04:00:25,785: [log_request_success] GET https://elasticsearch:9200/_alias/audit-write [status:200 request:0.109s]
2021-11-18 04:00:25,785: [log_request_success] > None
2021-11-18 04:00:25,786: [log_request_success] < {"audit-000015":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000010":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000012":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000023":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000025":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000016":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000007":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000013":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000009":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000024":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000022":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000026":{"aliases":{"audit-write":{"is_write_index":true}}},"audit-000020":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000014":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000017":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000011":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000008":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000019":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000018":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000021":{"aliases":{"audit-write":{"is_write_index":false}}}}
2021-11-18 04:00:25,787: [getAlias] RETURN: {"audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}}
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] aliasResponse: {"audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}}
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] jsonResponse: [{"audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}}]
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] Calling python /tmp/scripts/getWriteIndex.py "audit-write"
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] python /tmp/scripts/getWriteIndex.py "audit-write" succeeded. writeIndices: 'audit-000026'
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:getWriteIndex] Calling ensureOneWriteIndex "audit-write" "audit-000026" -> writeIndex
Thu Nov 18 04:00:25 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] ENTRYPOINT
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] policy=$1: audit-write
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] writeIndices=$2: audit-000026
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] for index in writeIndices
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] index: 'audit-000026', writeIndex: ''
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] Echoing writeIndex (audit-000026)
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:getWriteIndex] writeIndex: audit-000026
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:getWriteIndex] Echoing writeIndex (audit-000026)
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] getWriteIndex "audit-write" succeeded. writeIndex: 'audit-000026'
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] Calling rolloverForPolicy "audit-write" "{"conditions":{"max_age":"8h","max_docs":122880000,"max_size":"120gb"}}" -> responseRollover
2021-11-18 04:00:26,541: [rolloverForPolicy] FUNC_INIT: {'decoded': {'conditions': {'max_age': '8h', 'max_docs': 122880000, 'max_size': '120gb'}}, 'alias': 'audit-write'}
2021-11-18 04:00:26,541: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:26,545: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:26,639: [_make_request] https://elasticsearch:9200 "POST /audit-write/_rollover HTTP/1.1" 200 233
2021-11-18 04:00:26,641: [log_request_success] POST https://elasticsearch:9200/audit-write/_rollover [status:200 request:0.095s]
2021-11-18 04:00:26,641: [log_request_success] > {"conditions":{"max_age":"8h","max_docs":122880000,"max_size":"120gb"}}
2021-11-18 04:00:26,642: [log_request_success] < {"acknowledged":false,"shards_acknowledged":false,"old_index":"audit-000026","new_index":"audit-000027","rolled_over":false,"dry_run":false,"conditions":{"[max_age: 8h]":false,"[max_size: 120gb]":false,"[max_docs: 122880000]":false}}
2021-11-18 04:00:26,642: [rolloverForPolicy] response={'acknowledged': False, 'shards_acknowledged': False, 'old_index': 'audit-000026', 'new_index': 'audit-000027', 'rolled_over': False, 'dry_run': False, 'conditions': {'[max_age: 8h]': False, '[max_size: 120gb]': False, '[max_docs: 122880000]': False}}
2021-11-18 04:00:26,643: [rolloverForPolicy] RETURNING TRUE
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] responseRollover: 'True'
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] responseRollover!=False, check response to see if it did roll over (field in response)
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] Calling python /tmp/scripts/checkRollover.py "/tmp/response.txt" "audit-000026" -> nextIndex
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] Cating /tmp/response.txt:
{"acknowledged": false, "shards_acknowledged": false, "old_index": "audit-000026", "new_index": "audit-000027", "rolled_over": false, "dry_run": false, "conditions": {"[max_age: 8h]": false, "[max_size: 120gb]": false, "[max_docs: 122880000]": false}}
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] python /tmp/scripts/checkRollover.py "/tmp/response.txt" "audit-000026" succeeded. nextIndex: 'audit-000026'
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] Next write index for audit-write: audit-000026
Thu Nov 18 04:00:26 UTC 2021: [sh:indexManagement:rollover] Calling checkIndexExists "audit-000026" -> indexExists
2021-11-18 04:00:27,215: [checkIndexExists] FUNC_INIT: {'index': 'audit-000026'}
2021-11-18 04:00:27,216: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:27,220: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:27,271: [_make_request] https://elasticsearch:9200 "HEAD /audit-000026 HTTP/1.1" 200 0
2021-11-18 04:00:27,274: [log_request_success] HEAD https://elasticsearch:9200/audit-000026 [status:200 request:0.054s]
2021-11-18 04:00:27,274: [log_request_success] > None
2021-11-18 04:00:27,275: [log_request_success] < 
2021-11-18 04:00:27,275: [checkIndexExists] RETURN: True
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:rollover] indexExists: 'True'
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:rollover] Calling getWriteIndex "audit-write" -> writeIndex
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] ENTRYPOINT
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] policy=$1: audit-write
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] Calling 'getAlias "audit-write"'
2021-11-18 04:00:27,727: [getAlias] FUNC_INIT: {'alias': 'audit-write'}
2021-11-18 04:00:27,727: [getEsClient] FUNC_INIT: {}
2021-11-18 04:00:27,732: [_new_conn] Starting new HTTPS connection (1): elasticsearch:9200
2021-11-18 04:00:27,796: [_make_request] https://elasticsearch:9200 "GET /_alias/audit-write HTTP/1.1" 200 1360
2021-11-18 04:00:27,797: [log_request_success] GET https://elasticsearch:9200/_alias/audit-write [status:200 request:0.065s]
2021-11-18 04:00:27,797: [log_request_success] > None
2021-11-18 04:00:27,797: [log_request_success] < {"audit-000019":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000021":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000025":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000016":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000018":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000015":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000022":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000007":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000012":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000023":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000013":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000010":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000011":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000014":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000020":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000008":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000026":{"aliases":{"audit-write":{"is_write_index":true}}},"audit-000024":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000017":{"aliases":{"audit-write":{"is_write_index":false}}},"audit-000009":{"aliases":{"audit-write":{"is_write_index":false}}}}
2021-11-18 04:00:27,798: [getAlias] RETURN: {"audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}}
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] aliasResponse: {"audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}}
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] jsonResponse: [{"audit-000019": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000021": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000025": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000016": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000018": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000015": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000022": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000007": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000012": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000023": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000013": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000010": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000011": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000014": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000020": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000008": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000026": {"aliases": {"audit-write": {"is_write_index": true}}}, "audit-000024": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000017": {"aliases": {"audit-write": {"is_write_index": false}}}, "audit-000009": {"aliases": {"audit-write": {"is_write_index": false}}}}]
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] Calling python /tmp/scripts/getWriteIndex.py "audit-write"
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] python /tmp/scripts/getWriteIndex.py "audit-write" succeeded. writeIndices: 'audit-000026'
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:getWriteIndex] Calling ensureOneWriteIndex "audit-write" "audit-000026" -> writeIndex
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] ENTRYPOINT
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] policy=$1: audit-write
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] writeIndices=$2: audit-000026
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] for index in writeIndices
Thu Nov 18 04:00:27 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] index: 'audit-000026', writeIndex: ''
Thu Nov 18 04:00:28 UTC 2021: [sh:indexManagement:ensureOneWriteIndex] Echoing writeIndex (audit-000026)
Thu Nov 18 04:00:28 UTC 2021: [sh:indexManagement:getWriteIndex] writeIndex: audit-000026
Thu Nov 18 04:00:28 UTC 2021: [sh:indexManagement:getWriteIndex] Echoing writeIndex (audit-000026)
Thu Nov 18 04:00:28 UTC 2021: [sh:indexManagement:rollover] getWriteIndex "audit-write" succeeded. writeIndex: 'audit-000026'
Thu Nov 18 04:00:28 UTC 2021: [sh:indexManagement:rollover] Comparing nextIndex: 'audit-000026' and writeIndex: 'audit-000026'
Thu Nov 18 04:00:28 UTC 2021: [sh:indexManagement:rollover] nextIndex == writeIndex. Done. Returning 0
Thu Nov 18 04:00:28 UTC 2021: [sh:rollover] 'rollover "audit"' succeeded
Thu Nov 18 04:00:28 UTC 2021: [sh:delete-then-rollover] ReturnCode of /tmp/scripts/rollover is 0
#### eof /tmp/imdebug.log
